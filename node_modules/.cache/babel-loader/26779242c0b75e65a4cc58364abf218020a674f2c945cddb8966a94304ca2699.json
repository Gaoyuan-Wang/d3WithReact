{"ast":null,"code":"var _jsxFileName = \"/Users/wanggaoyuan/Library/CloudStorage/OneDrive-Personal/Desktop/CS5346/d3WithReact/src/LinePlot.jsx\";\nimport * as d3 from \"d3\";\n//import { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function loadData() {\n  var fileFath = \"data/Avocado_HassAvocadoBoard_20152023v1.0.1.csv\";\n  const data = await d3.csv(fileFath);\n  //console.log(data);\n  return data;\n}\n\n// [{\n//   Date : data[0].Date,\n//   AveragePrice : data[0].AveragePrice,\n//   TotalVolume : data[0].TotalVolume,\n//   plu4046 : data[0].plu4046,\n//   plu4225 : data[0].plu4225,\n//   plu4770 : data[0].plu4770,\n//   TotalBags : data[0].TotalBags,\n//   SmallBags : data[0].SmallBags,\n//   LargeBags : data[0].LargeBags,\n//   XLargeBags : data[0].XLargeBags,\n//   type : data[0].type,\n//   region : data[0].region,\n// }]\n\nfunction drawChart(data) {\n  // const width = 800;\n  // const height = 600;\n  // const marginTop = 20;\n  // const marginRight = 20;\n  // const marginBottom = 30;\n  // const marginLeft = 40;\n\n  // const svg = d3.select(\"body\").append(\"svg\")\n  // .attr(\"width\", width)\n  // .attr(\"height\", height);\n\n  // const x = d3.scaleUtc()\n  //   .domain(d3.extent(data, d => new Date(d.Date)))\n  //   .range([marginLeft, width - marginRight]);\n\n  // const y = d3.scaleLinear()\n  //   .domain([0, d3.max(data, d => d.AveragePrice)])\n  //   .range([height - marginBottom, marginTop]);\n\n  //   // Add the x-axis.\n  // svg.append(\"g\")\n  // .attr(\"transform\", `translate(0,${height - marginBottom})`)\n  // .call(d3.axisBottom(x));\n\n  // // Add the y-axis.\n  // svg.append(\"g\")\n  //   .attr(\"transform\", `translate(${marginLeft},0)`)\n  //   .call(d3.axisLeft(y));\n\n  // // Add the line.\n\n  // // Declare the line generator.\n  // const line = d3.line()\n  //     .x(d => x(new Date(d.Date)))\n  //     .y(d => y(d.AveragePrice));\n\n  // svg.append(\"path\")\n  // .attr(\"fill\", \"none\")\n  // .attr(\"stroke\", \"steelblue\")\n  // .attr(\"stroke-width\", 1.5)\n  // .attr(\"d\", line(data));\n\n  // set the dimensions and margins of the graph\n  const margin = {\n      top: 10,\n      right: 30,\n      bottom: 30,\n      left: 60\n    },\n    width = 460 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\n  // append the svg object to the body of the page\n  const svg = d3.select(\"#my_dataviz\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  // group the data: I want to draw one line per group\n  const sumstat = d3.group(data, d => d.region); // nest function allows to group the calculation per level of a factor\n\n  // Add X axis --> it is a date format\n  const x = d3.scaleLinear().domain(d3.extent(data, d => new Date(d.Date))).range([0, width]);\n  svg.append(\"g\").attr(\"transform\", `translate(0, ${height})`).call(d3.axisBottom(x).ticks(5));\n\n  // Add Y axis\n  const y = d3.scaleLinear().domain([0, d3.max(data, d => +d.AveragePrice)]).range([height, 0]);\n  svg.append(\"g\").call(d3.axisLeft(y));\n\n  // color palette\n  const color = d3.scaleOrdinal().range(['#e41a1c', '#377eb8', '#4daf4a', '#984ea3']);\n\n  // Draw the line\n  svg.selectAll(\".line\").data(sumstat).join(\"path\").attr(\"fill\", \"none\").attr(\"stroke\", function (d) {\n    return color(d[0]);\n  }).attr(\"stroke-width\", 1.5).attr(\"d\", function (d) {\n    return d3.line().x(function (d) {\n      return x(new Date(d.Date));\n    }).y(function (d) {\n      return y(+d.AveragePrice);\n    })(d[1]);\n  });\n}\nexport default function Chart1() {\n  loadData().then(data => {\n    var filteredDataForAlbanyConventional = data.filter(d => d.region === \"Atlanta\" && d.type === \"conventional\");\n    var filteredDataForAlbanyOrganic = data.filter(d => d.region === \"Atlanta\" && d.type === \"organic\");\n    var b1 = data.filter(d => d.region === \"Chicago\" || d.region === \"Atlanta\");\n    var b2 = data.filter(d => d.region === \"Chicago\" && d.type === \"organic\");\n    // drawChart(filteredDataForAlbanyConventional);\n    // drawChart(filteredDataForAlbanyOrganic);\n    // drawChart(b1);\n    drawChart(b1);\n    return data[0];\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_c = Chart1;\nvar _c;\n$RefreshReg$(_c, \"Chart1\");","map":{"version":3,"names":["d3","jsxDEV","_jsxDEV","loadData","fileFath","data","csv","drawChart","margin","top","right","bottom","left","width","height","svg","select","append","attr","sumstat","group","d","region","x","scaleLinear","domain","extent","Date","range","call","axisBottom","ticks","y","max","AveragePrice","axisLeft","color","scaleOrdinal","selectAll","join","line","Chart1","then","filteredDataForAlbanyConventional","filter","type","filteredDataForAlbanyOrganic","b1","b2","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/wanggaoyuan/Library/CloudStorage/OneDrive-Personal/Desktop/CS5346/d3WithReact/src/LinePlot.jsx"],"sourcesContent":["import * as d3 from \"d3\";\n//import { useState } from \"react\";\n\nasync function loadData() {\n  var fileFath = \"data/Avocado_HassAvocadoBoard_20152023v1.0.1.csv\"\n  const data = await d3.csv(fileFath);\n  //console.log(data);\n  return data\n}\n\n// [{\n//   Date : data[0].Date,\n//   AveragePrice : data[0].AveragePrice,\n//   TotalVolume : data[0].TotalVolume,\n//   plu4046 : data[0].plu4046,\n//   plu4225 : data[0].plu4225,\n//   plu4770 : data[0].plu4770,\n//   TotalBags : data[0].TotalBags,\n//   SmallBags : data[0].SmallBags,\n//   LargeBags : data[0].LargeBags,\n//   XLargeBags : data[0].XLargeBags,\n//   type : data[0].type,\n//   region : data[0].region,\n// }]\n\nfunction drawChart(data) {\n  // const width = 800;\n  // const height = 600;\n  // const marginTop = 20;\n  // const marginRight = 20;\n  // const marginBottom = 30;\n  // const marginLeft = 40;\n\n  // const svg = d3.select(\"body\").append(\"svg\")\n  // .attr(\"width\", width)\n  // .attr(\"height\", height);\n\n  // const x = d3.scaleUtc()\n  //   .domain(d3.extent(data, d => new Date(d.Date)))\n  //   .range([marginLeft, width - marginRight]);\n\n  // const y = d3.scaleLinear()\n  //   .domain([0, d3.max(data, d => d.AveragePrice)])\n  //   .range([height - marginBottom, marginTop]);\n\n  //   // Add the x-axis.\n  // svg.append(\"g\")\n  // .attr(\"transform\", `translate(0,${height - marginBottom})`)\n  // .call(d3.axisBottom(x));\n\n  // // Add the y-axis.\n  // svg.append(\"g\")\n  //   .attr(\"transform\", `translate(${marginLeft},0)`)\n  //   .call(d3.axisLeft(y));\n\n  // // Add the line.\n\n  // // Declare the line generator.\n  // const line = d3.line()\n  //     .x(d => x(new Date(d.Date)))\n  //     .y(d => y(d.AveragePrice));\n\n  // svg.append(\"path\")\n  // .attr(\"fill\", \"none\")\n  // .attr(\"stroke\", \"steelblue\")\n  // .attr(\"stroke-width\", 1.5)\n  // .attr(\"d\", line(data));\n\n// set the dimensions and margins of the graph\n  const margin = {top: 10, right: 30, bottom: 30, left: 60},\n  width = 460 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\n  // append the svg object to the body of the page\n  const svg = d3.select(\"#my_dataviz\")\n  .append(\"svg\")\n  .attr(\"width\", width + margin.left + margin.right)\n  .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n  .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  // group the data: I want to draw one line per group\n  const sumstat = d3.group(data, d => d.region); // nest function allows to group the calculation per level of a factor\n\n  // Add X axis --> it is a date format\n  const x = d3.scaleLinear()\n  .domain(d3.extent(data, d => new Date(d.Date)))\n  .range([ 0, width ]);\n  svg.append(\"g\")\n  .attr(\"transform\", `translate(0, ${height})`)\n  .call(d3.axisBottom(x).ticks(5));\n\n  // Add Y axis\n  const y = d3.scaleLinear()\n  .domain([0, d3.max(data, d => +d.AveragePrice)])\n  .range([ height, 0 ]);\n  svg.append(\"g\")\n  .call(d3.axisLeft(y));\n\n  // color palette\n  const color = d3.scaleOrdinal()\n  .range(['#e41a1c','#377eb8','#4daf4a','#984ea3'])\n\n  // Draw the line\n  svg.selectAll(\".line\")\n    .data(sumstat)\n    .join(\"path\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", function(d){ return color(d[0]) })\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"d\", function(d){\n        return d3.line()\n          .x(function(d) { return x(new Date(d.Date)); })\n          .y(function(d) { return y(+d.AveragePrice); })\n          (d[1])\n      })\n\n}\n\nexport default function Chart1() {\n  loadData().then((data) => {\n    var filteredDataForAlbanyConventional = data.filter(d => d.region === \"Atlanta\" && d.type === \"conventional\");\n    var filteredDataForAlbanyOrganic = data.filter(d => d.region === \"Atlanta\" && d.type === \"organic\");\n    var b1 = data.filter(d => d.region === \"Chicago\" || d.region === \"Atlanta\");\n    var b2 = data.filter(d => d.region === \"Chicago\" && d.type === \"organic\");\n    // drawChart(filteredDataForAlbanyConventional);\n    // drawChart(filteredDataForAlbanyOrganic);\n    // drawChart(b1);\n    drawChart(b1);\n    return data[0];\n  });\n  \n  return (\n    <div>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}